var touch=touch||{};!function(t){function e(t,e){var n=f.get(t,"_touchEv");n||(n=new g(t),f.set(t,"_touchEv",n)),n["on"+e]=function(n){l.trigger(t,e,n)}}function n(t){var e=f.get(t,"_touchEv");e&&(f.set(t,"_touchEv",null),e.tearDown())}var r=function(t){if(!t||"object"!==i(t)||t.nodeType||t===t.window)return!1;var e=Object.prototype.hasOwnProperty;if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(n in t);return void 0===n||e.call(t,n)},o={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(t){o["[object "+t+"]"]=t.toLowerCase()});var i=function(t){return null==t?"null":o[Object.prototype.toString.call(t)]||"object"},a=function(t){return"array"===i(t)},u=function(t){return"function"===i(t)},s=function(){var t,e,n,o,i,c,f=arguments[0]||{},l=1,p=arguments.length,g=!1;if("boolean"==typeof f&&(g=f,f=arguments[1]||{},l=2),"object"==typeof f||u(f)||(f={}),p===l)return f;for(;p>l;l++)if(null!=(t=arguments[l]))for(e in t)n=f[e],o=t[e],f!==o&&(g&&o&&(r(o)||(i=a(o)))?(i?(i=!1,c=n&&a(n)?n:[]):c=n&&r(n)?n:{},f[e]=s(g,c,o)):void 0!==o&&(f[e]=o));return f},c=function(){var t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ",e=t.length-1;return{query:function(t){return document.querySelectorAll(t)},randomStr:function(n){var r="";n="undefined"==typeof n?8:n;for(var o=0;n>o;o++)r+=t[Math.floor(Math.random()*(e+1))];return r},getElUID:function(t){var e=t.getAttribute("data-uid");return e||(e=this.randomStr(18),t.setAttribute("data-uid",e)),e},addEvents:function(t,e,n){e=e?e.split(" "):[];for(var r=0,o=e.length;o>r;r++)t.addEventListener&&n&&t.addEventListener(e[r],n,!1)},removeEvents:function(t,e,n){e=e?e.split(" "):[];for(var r=0,o=e.length;o>r;r++)t.removeEventListener&&t.removeEventListener(e[r],n,!1)},deepCopy:function(t,e){return e||(e=t,t={}),s(!0,t,e),t}}}(),f=function(){var t={};return{get:function(e,n){var r=c.getElUID(e);return t[r]=t[r]||{},1===arguments.length?t[r]:t[r][n]},set:function(e,n,r){var o=c.getElUID(e);t[o]=t[o]||{},t[o][n]=r}}}(),l=function(){var t={},e={};return{trigger:function(n,r,o){for(var i=c.getElUID(n),a=t[i][r].handler,u=w,s=[u.SWIPE_START,u.SWIPING,u.SWIPE_END,u.SWIPE_LEFT,u.SWIPE_RIGHT,u.SWIPE_UP,u.SWIPE_DOWN,u.SWIPE],f=function(t,n,r,o){r&&r.interval?(e[t]=e[t]||{},e[t].list=e[t].list||[],e[t].list.push(function(t,e,n){return function(){t.call(e,n)}}(t,n,o)),e[t].interval||(e[t].interval=setInterval(function(t){return function(){var n=e[t].list.shift();n?n():(clearInterval(e[t].interval),e[t].interval=null)}}(t),r.interval))):t.call(n,o)},l=0,p=a.length;p>l;l++){var g=a[l].options;if(-1!=s.indexOf(r)&&g&&g.swipeFactor){var v=o.duration/1e3;o.factor=(10-g.swipeFactor)*v*v*10}if(g&&g.__binding_live){var h=o.originEvent.target;h&&3===h.nodeType&&(h=h.parentNode);var m=c.query(g.__binding_live);m&&m.length>0&&(m=Array.prototype.slice.apply(m,[0]),m.forEach(function(t){t.contains(h)&&f(a[l],t,g,o)}))}else f(a[l],n,g,o)}},off:function(){if("undefined"!=typeof arguments[0]){var e=c.getElUID(arguments[0]);if("string"==typeof arguments[3]){var n=[];try{n=t[e][arguments[1]].handler}catch(r){n=[]}if(arguments[2]){var o=n.indexOf(arguments[2]);if(o>-1){var i=n.splice(o,1);delete i.options}}else for(var a=0;a<n.length;a++){var u=n[a].options;if(u&&u.__binding_live&&u.__binding_live===arguments[3]){var i=n.splice(a,1);delete i.options,a--}}return!1}if(1==arguments.length)t[e]=null;else if(2===arguments.length)t[e]&&(t[e][arguments[1]]=null);else if(t[e]&&t[e][arguments[1]]&&t[e][arguments[1]].handler){var n=t[e][arguments[1]].handler,o=n.indexOf(arguments[2]);if(o>-1){var i=n.splice(o,1);delete i.options}}}},add:function(e,n,r,o){var i=c.getElUID(e);t[i]=t[i]||{},t[i][n]=t[i][n]||{},t[i][n].handler=t[i][n].handler||[],!o||(r.options=o),"function"==typeof r?t[i][n].handler.push(r):null},hasHandler:function(e,n){try{var r=c.getElUID(e),o=t[r][n].handler;return o&&o.length>0?!0:!1}catch(i){return!1}},isEmpty:function(e){var n=c.getElUID(e),r=t[n];for(var o in r)if(r[o]&&r[o].handler&&0!==r[o].handler.length)return!1;return!0}}}(),p={tap:!0,doubleTap:!0,tapMaxDistance:10,hold:!0,holdTime:650,maxDoubleTapInterval:300,swipe:!0,swipeTime:300,swipeMinDistance:18,swipeFactor:5,drag:!0,pinch:!0,minScaleRate:0,minRotationAngle:0},g=function(){function t(t){if(s){for(var e=[],n=null,r=0,o=t.touches.length;o>r;r++)n=t.touches[r],e.push({x:n.pageX,y:n.pageY});return e}return[{x:t.pageX,y:t.pageY}]}function e(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function n(t){return t.touches?t.touches.length:1}function r(t,n){if(t.length>=2&&n.length>=2){var r=e(t[1],t[0]),o=e(n[1],n[0]);return o/r}return 1}function o(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function i(t,e){var n=Math.atan(-1*(e.y-t.y)/(e.x-t.x))*(180/Math.PI);return 0>n?n+180:n}function a(t){var e={up:-45>t&&t>-135,down:t>=45&&135>t,left:t>=135||-135>=t,right:t>=-45&&45>=t};for(var n in e)if(e[n])return n;return null}function u(t){for(var e=0,n=0;t.offsetParent;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:e,top:n}}var s="ontouchstart"in window;return function(f){function g(t,e){"function"==typeof E["on"+t]&&E["on"+t](e)}function v(){T=_=P=null,R=A=S=O=!1,D=!1,y={},W=!1}function h(t){return"touchmove"===t.type||"mousemove"===t.type}function m(t){return"touchend"===t.type||"mouseup"===t.type||"touchcancel"===t.type}function d(t,e,n,r){l.hasHandler(t,e)&&(r="undefind"==typeof r?!0:r,r&&(n=c.deepCopy(n)),n.type=e,n.startRotate=function(){E.startRotate()},g(e,n))}var E=this,y={start:null,move:null,end:null},I=0,T=null,_=null,P=null,S=!1,O=!1,D=!1,N={},A=!1,C=null,R=!1,b=1,W=!1,H=[],U=0,L=0,x=0,M=null,F={_getAngleDiff:function(t){for(var e=parseInt(U-i(t[0],t[1]),10),n=0;Math.abs(e-L)>90&&n++<50;)0>L?e-=180:e+=180;return L=parseInt(e,10)},pinch:function(t){if(p.pinch){if(!A)return;if(n(t)<2&&!m(t))return;var e=r(y.start,y.move),o=this._getAngleDiff(y.move),i={type:"",originEvent:t,scale:e,rotation:o,direction:o>0?"right":"left",fingersCount:n(t),startRotate:function(){E.startRotate()}};if(O?h(t)?i.fingerStatus="move":m(t)&&(i.fingerStatus="end",d(f,w.PINCH_END,i)):(O=!0,i.fingerStatus="start",d(f,w.PINCH_START,i)),d(f,w.PINCH,i),Math.abs(1-e)>p.minScaleRate){var a=c.deepCopy(i),u=1e-11;e>b?(b=e-u,d(f,w.PINCH_OUT,a,!1)):b>e&&(b=e+u,d(f,w.PINCH_IN,a,!1)),m(t)&&(b=1)}if(Math.abs(o)>p.minRotationAngle){var s,l=c.deepCopy(i);s=o>0?w.ROTATION_RIGHT:w.ROTATION_LEFT,d(f,s,l,!1),d(f,w.ROTATION,i)}}},rotateSingleFinger:function(t){if(W&&n(t)<2){if(!y.move)return;if(H.length<2){var e=u(f);H=[{x:e.left+f.offsetWidth/2,y:e.top+f.offsetHeight/2},y.move[0]],U=parseInt(i(H[0],H[1]),10)}var r=[H[0],y.move[0]],o=this._getAngleDiff(r),a={type:"",originEvent:t,rotation:o,direction:o>0?"right":"left",fingersCount:n(t)};h(t)?a.fingerStatus="move":(m(t)||"mouseout"===t.type)&&(a.fingerStatus="end",d(f,w.PINCH_END,a)),eventType=o>0?w.ROTATION_RIGHT:w.ROTATION_LEFT,d(f,eventType,a),d(f,w.ROTATION,a)}},swipe:function(t){if(A&&y.move&&!(n(t)>1)){var r=Date.now(),i=r-I,u=e(y.start[0],y.move[0]),s={x:y.move[0].x-N.left,y:y.move[0].y-N.top},c=o(y.start[0],y.move[0]),l=a(c),g=i/1e3,v=10*(10-p.swipeFactor)*g*g,E={type:w.SWIPE,originEvent:t,position:s,direction:l,distance:u,distanceX:y.move[0].x-y.start[0].x,distanceY:y.move[0].y-y.start[0].y,angle:c,duration:i,fingersCount:n(t),factor:v};if(p.swipe){var T=function(){var t=w;switch(l){case"up":d(f,t.SWIPE_UP,E);break;case"down":d(f,t.SWIPE_DOWN,E);break;case"left":d(f,t.SWIPE_LEFT,E);break;case"right":d(f,t.SWIPE_RIGHT,E)}};S?h(t)?(E.fingerStatus=E.swipe="move",d(f,w.SWIPING,E),i>p.swipeTime&&i<p.swipeTime+50&&u>p.swipeMinDistance&&(T(),d(f,w.SWIPE,E,!1))):(m(t)||"mouseout"===t.type)&&(E.fingerStatus=E.swipe="end",d(f,w.SWIPE_END,E),p.swipeTime>i&&u>p.swipeMinDistance&&(T(),d(f,w.SWIPE,E,!1))):(E.fingerStatus=E.swipe="start",S=!0,d(f,w.SWIPE_START,E))}p.drag&&(D?h(t)?E.fingerStatus=E.swipe="move":m(t)&&(E.fingerStatus=E.swipe="end"):(E.fingerStatus=E.swipe="start",D=!0),d(f,w.DRAG,E))}},tap:function(t){if(p.tap){var r=l,o=Date.now(),i=o-I,a=e(y.start[0],y.move?y.move[0]:y.start[0]);clearTimeout(C);var u=function(){if(M&&p.doubleTap&&I-x<p.maxDoubleTapInterval){var t=e(M,y.start[0]);if(16>t)return!0}return!1}();if(u)return void g(w.DOUBLE_TAP,{type:w.DOUBLE_TAP,originEvent:t,position:y.start[0]});if(p.tapMaxDistance<a)return;p.holdTime>i&&n(t)<=1&&(R=!0,x=o,M=y.start[0],r.hasHandler(f,w.TAP)&&g(w.TAP,{type:w.TAP,originEvent:t,fingersCount:n(t),position:y.start[0]}),r.hasHandler(f,w.CLICK)&&g(w.CLICK,{type:w.CLICK,originEvent:t,fingersCount:n(t),position:y.start[0]}))}},hold:function(t){p.hold&&(clearTimeout(C),C=setTimeout(function(){if(y.start){var r=e(y.start[0],y.move?y.move[0]:y.start[0]);p.tapMaxDistance<r||R||g("hold",{type:"hold",originEvent:t,fingersCount:n(t),position:y.start[0]})}},p.holdTime))}},G=function(e){switch(e.type){case"touchstart":case"mousedown":W=!1,H=[],d(f,e.type,{originEvent:e}),A=!0,(!y.start||y.start.length<2)&&(y.start=t(e)),n(e)>=2&&(U=parseInt(i(y.start[0],y.start[1]),10)),I=Date.now(),T=e,N={};var r=f.getBoundingClientRect(),o=document.documentElement;N={top:r.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||0),left:r.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0)},F.hold(e);break;case"touchmove":case"mousemove":if(d(f,e.type,{originEvent:e}),!A||!y.start)return;y.move=t(e),n(e)>=2?F.pinch(e):W?F.rotateSingleFinger(e):F.swipe(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":if(d(f,e.type,{originEvent:e}),!A)return;P=e,O?F.pinch(e):W?F.rotateSingleFinger(e):S&&F.swipe(e),F.tap(e),v(),U=0,L=0,e.touches&&1===e.touches.length&&(A=!0,W=!0)}},j=s?"touchstart touchmove touchend touchcancel":"mouseup mousedown mousemove mouseout";c.addEvents(f,j,G),this.tearDown=function(){c.removeEvents(f,j,G)},this.startRotate=function(){W=!0}}}(),v=function(){if(typeof arguments.length<3)throw"Please specify complete argments";var t="string"==typeof arguments[0]?c.query(arguments[0]):[arguments[0]],e=arguments[1].split(" "),n=arguments[arguments.length-1],r=arguments.length>3?arguments[arguments.length-2]:void 0;t=Array.prototype.slice.apply(t,[0]),t.forEach(function(t){for(var o=0;o<e.length;o++){var i=y(e[o]);_.special[i]?(l.add(t,i,n,r),_.special[i].setUp.apply(this,[t,i])):c.addEvents(t,i,n)}})},h=function(){if(arguments.length<3)throw new Error("wrong argument");if("string"!=typeof arguments[0])return void v.apply(t,arguments);var e=arguments.length>3?arguments[arguments.length-2]:{},n=arguments[1],r=arguments[arguments.length-1];e.__binding_live=arguments[0],v.apply(t,[document.body,n,e,r])},m=function(t,e,n,r){if("undefined"==typeof t)throw"Please specify the selector.";t="string"==typeof t?c.query(t):[t],t=Array.prototype.slice.apply(t,[0]),e?(e=e.split(" "),t.forEach(function(t){e.forEach(function(e){var o=[t,y(e)];n?o.push(n):null,r?o.push(r):null,_.special[e]?(l.off.apply(l,o),l.isEmpty(t,e)&&_.special[e].tearDown(t)):c.removeEvents.apply(this,o)})})):(l.off(t),c.removeEvents(t))},d=function(t,e,n){m(document.body,e,n,t)},E={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},y=function(t){return"ontouchstart"in window||!E[t]?t:E[t]},I=function(t){"object"==typeof t&&(p=s(p,t))},T={setUp:e,tearDown:n},w={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",CLICK:"click",PINCH_START:"pinchstart",PINCH_END:"pinchend",PINCH:"pinch",PINCH_IN:"pinchin",PINCH_OUT:"pinchout",ROTATION_LEFT:"rotateleft",ROTATION_RIGHT:"rotateright",ROTATION:"rotate",SWIPE_START:"swipestart",SWIPING:"swiping",SWIPE_END:"swipeend",SWIPE_LEFT:"swipeleft",SWIPE_RIGHT:"swiperight",SWIPE_UP:"swipeup",SWIPE_DOWN:"swipedown",SWIPE:"swipe",DRAG:"drag",HOLD:"hold",TAP:"tap",DOUBLE_TAP:"doubletap"},_={};return _.special={},Object.keys(w).forEach(function(t){_.special[w[t]]=T}),t.live=h,t.die=d,t.on=v,t.off=m,t.config=I,t}(touch);