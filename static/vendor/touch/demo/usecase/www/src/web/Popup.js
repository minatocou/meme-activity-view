define(function(e){var o=(e("./blend"),e("./lib")),t=e("./Dialog"),i=e("./Control"),n=function(e,o){return console.log("popup init"),i.call(this,{modal:e,removeOnClose:o}),this._init(),this};return o.inherits(n,t),n.prototype.removeOnClose=!0,n.prototype.type="popup",n.prototype._init=function(){if("string"==typeof this.modal&&this.modal.indexOf("<")>=0){var e=document.createElement("div");if(e.innerHTML=this.modal,!(e.childNodes.length>0))return!1;o=e.childNodes[0],this.removeOnClose&&o.classList.add("remove-on-close"),$("body").append(o)}var o=$(this.modal);return 0===o.length?!1:($(this.main).append(o).appendTo("body"),o.show(),this.open(),this)},n});