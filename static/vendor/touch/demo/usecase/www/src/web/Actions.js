define(function(n){var a=(n("./blend"),n("./lib")),o=n("./Dialog"),t=n("./Control"),i=function(n){var a=this;n=n||[],n.length>0&&!$.isArray(n[0])&&(n=[n]),t.call(this,n);for(var o='<div class="actions-modal">{{buttons}}</div>',i="",l=0;l<n.length;l++)for(var s=0;s<n[l].length;s++){0===s&&(i+='<div class="actions-modal-group">');var c=n[l][s],r=c.label?"actions-modal-label":"actions-modal-button";c.bold&&(r+=" actions-modal-button-bold"),c.red&&(r+=" actions-modal-button-red"),i+='<span class="'+r+'">'+c.text+"</span>",s===n[l].length-1&&(i+="</div>")}this.main.innerHTML=o.replace(/{{buttons}}/g,i);var e=$(this.main).children();$("body").append(this.main);var d=e.find(".actions-modal-group");return d.each(function(o,t){var i=o;$(t).children().each(function(o,t){var l=n[i][o];$(t).hasClass("actions-modal-button")&&$(t).on("click",function(n){l.close!==!1&&a.close(),l.onClick&&l.onClick(e,n)})})}),this.open(),e[0]};return a.inherits(i,o),i});