define(function(n){function t(){o.apply(this,arguments)}var e=(n("./blend"),n("./../common/lib")),o=n("./Control");return t.prototype.type="layout",t.prototype.on=function(n,t,e,o){"undefined"==typeof o&&(o=this.main),"function"==typeof t&&o.addEventListener(n,t,!1)},t.prototype.once=function(n,t,e,o){if("undefined"==typeof o&&(o=this.main),"function"==typeof t){var i=function(){t.apply(o,arguments),o.removeEventListener(n,i,!1)};o.addEventListener(n,i,!1)}},t.prototype.off=function(n,t,e,o){"undefined"==typeof o&&(o=this.main),"function"==typeof t&&o.removeEventListener(n,t,!1)},t.prototype.fire=function(n,t,e){try{var o;if("undefined"!=typeof CustomEvent){var i={bubbles:!0,cancelable:!0,detail:t};o=new CustomEvent(n,i)}else o=document.createEvent("CustomEvent"),o.initCustomEvent(n,!0,!0,t);(e||this.main)&&(e||this.main).dispatchEvent(o)}catch(f){console.warn("Touch.js is not supported by environment.",f.stack)}},t.prototype.animationEnd=function(n){function t(f){for(n(f),e=0;e<o.length;e++)i.off(o[e],t)}var e,o=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],i=this;if(n)for(e=0;e<o.length;e++)i.on(o[e],t);return this},t.prototype.transitionEnd=function(n){function t(f){for(n(f),e=0;e<o.length;e++)i.off(o[e],t)}var e,o=["webkitTransitionEnd"],i=this;if(n)for(e=0;e<o.length;e++)i.on(o[e],t);return this},e.inherits(t,o),t});